#!/usr/bin/env bash
set -Eeuo pipefail

source "$HOME/.config/theme-system/lib/theme.sh"
source "$HOME/.config/theme-system/lib/waybar.sh"
source "$HOME/.config/theme-system/lib/core.sh"

theme="$1"

if [ -z "$theme" ]; then
    echo "Usage: theme-set <theme>"
    exit 1
fi

if ! set_theme "$theme"; then
    echo "Theme was NOT changed."
    exit 1
fi

build_waybar_css
reload_services
