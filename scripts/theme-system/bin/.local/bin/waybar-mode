#!/usr/bin/env bash
source "$HOME/.config/theme-system/lib/waybar.sh"
source "$HOME/.config/theme-system/lib/core.sh"

mode="$1"

if [ -z "$mode" ]; then
    echo "Usage: waybar-mode <informative|minimal>"
    exit 1
fi

ln -sfn "$WAYBAR_DIR/config-$mode.jsonc" \
    "$WAYBAR_DIR/config.jsonc"

echo "$mode" > "$WAYBAR_MODE_STATE"

build_waybar_css
reload_services
